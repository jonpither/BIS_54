# Message envelope {#message-envelope}

The eSENS eTendering BIS describes the envelope in which the message is wrapt. Standard SBDH version 1.3 envelope.

|  |
| --- |
|  |
| **SBDH Element / Attribute** | **Usage in eTendering** | **M/O/R/** | **Occ** | **Value / Example** |
| **| StandardBusinessDocumentHeader** | The UN/CEFACT standard, containing information about the routing and processing of the business document. It also identifies the message set that is sent together with on SBDH and the version number of the document(s)contained. Header information MUST be provided using the ‘StandardBusinessDocumentHeader’ element. | MANDATORY | 1..1 | - |
| **--| HeaderVersion** | Version number of the SBDH standard used. The value of the ‘HeaderVersion’ element MUST be set to ‘1.0’. This is the version number of the standard. | MANDATORY | 1..1 | Value: 1.0 |
| **--| Sender** | Sender of the message, party representing the organization which created the standard business document. The ‘Sender’ tag MUST be used exactly only once. | MANDATORY | 1..1 | - |
| **----| Identifier** | A unique identification key for the Sender party (CB ID or EO ID). The value of the ‘Identifier’ element of ‘PartnerIdentification’ type MUST be in the [iso6523-actorid-upis] list. The value must be preceded by the schemeId. | MANDATORY | 1..1 | Example: 0106:12345678 |
| **----| Authority** | Authority agency of the identification key. The ‘Authority’ attribute MUST be used. | REQUIRED | 0..1 | Value: iso6523-actorid-upis |
| **--| Receiver** | Receiver of the message, party representing the organization which receives the standard business document. The ‘Receiver’ tag MUST be used at least once and can occur multiple times. | MANDATORY | 1..1 | - |
| **----| Identifier** | A unique identification key for the Sender party (CB ID or EO ID). The value of the ‘Identifier’ element of ‘PartnerIdentification’ type MUST be in the [iso6523-actorid-upis] list. The value must be preceded by the schemeId. | MANDATORY | 1..1 | Example: 0106:67654322 |
| **----| Authority** | Authority agency of the identification key. The ‘Authority’ attribute MUST be used. | REQUIRED | 0..1 | Value: iso6523-actorid-upis |
| **--| DocumentIdentification** | Identification information for the document | MANDATORY | 1..1 | - |
| **----| Standard** | The name of the document standard contained in the payload. The value of the element ‘Standard’ MUST be set to the value [tbd] | MANDATORY | 1..1 | Value: UBL |
| **----| TypeVersion** | The version number of the UBL standard used. The SBDH specification requires that all documents sent with one header have the same version number. | MANDATORY | 1..1 | Example: 2.1 |
| **----| InstanceIdentifier** | Description which contains reference information which uniquely identifies this instance of the Standard Business Document (SBD) between the ‘Sender’ and the ‘Receiver’. This identifier identifies this document as being distinct from others. It contains the message ID. This is a GUID. | MANDATORY | 1..1 | Example: 5469cc5c-f15d-4631-b47d-a348f646ab7a |
| **----| Type** | This element identifies the type of the document. The value of the ‘Type’ element of ‘DocumentIdentification’ element MUST be set to the name of the XML element that defines the root of the business document. This is the name of the global XML element declared in the root schema for the business document in consideration. If there is a business need to send multiple types of documents, then the multiple types MUST be business documents related to each other and having the same version identifier. If sending multiple types, the value of the ‘Type’ element of the ‘DocumentIdentification’ element MUST be a list of comma separated values (CSV) of the multiple types. | MANDATORY | 1..1 | Codelist [see TAB Scope colum …/DocumentIdentification/Type]Examples: CallForTenders, StatusTenderInquiry |
| **----| MultiType** | Flag to indicate that there is more than one type of business document in the payload of the SBDH. The value of the ‘MultiType’ element of ‘DocumentIdentification’ element MUST be set to ‘true’ if sending multiple types of business document, else either the element may be skipped or if included then the value MUST be set to ‘false’. | OPTIONAL | 0..1 | false or true |
| **----| CreationDateAndTime** | Date and time of the SBDH document creation. The value of the ‘CreationDateAndTime’ element MUST be set to the date and time when the ‘document originating application’ or the parser created the document. This value will typically be populated by the trading partner and will typically differ from the time stamping of the message by the communications software. | MANDATORY | 1..1 | Example: 2015-05-08T17:30:00+01:00 |
| **--| Manifest** | Manifest that describes the business documents and related items, if any being sent in this package. | OPTIONAL | 0..1 |   |
| **----| NumberOfItems** | The count of number of items associated with this package. | MANDATORY | 1..n | Example: 2 |
| **----| ManifestItem** | Provides information about the referenced item information; Repeatable if there is more than one item or attachments. | MANDATORY | 1..1 |   |
| **------| MimeTypeQualifierCode** | Code describing whether the contents are XML or EDIFACT or X12, etc. syntax. Types are defined by IANA (see http://www.iana.org/assignments/media-types/).The first item must always reference the main document, which constitutes the entry point for package. | MANDATORY | 1..1 | Value of first item: application/xml Successive items should have mimetype according to the contents e.g application/pdf |
| **------| UniformResourceIdentifier** | Content Identifier URI of the business document or other associated files. | MANDATORY | 1..1 | Example: cid:Biitrd081_ExpressionOfInterest.xml |
| **------| Description** | The value contains the description of the documents referred to. | OPTIONAL | 0..1 | Examples: Call for Tender business document, Procurement project document |
| **------| LanguageCode** | Language of Item in ISO 639-1 | OPTIONAL | 0..1 | Example: EN |
| **--| BusinessScope** | Elements used to identify the ProcessID andDocumentID. The values of Process ID and Document ID are necessary in the SML/SMP discovery Process to retrieve the relevant service metadata. | MANDATORY | 1..1 |   |
| **----| Scope** | Repeat twice - once for DocumentID once forProcessID. | MANDATORY | 2..* |   |
| **------| Type** | Qualifier of how to understand the InstanceIdentifier element. | MANDATORY | 1..1 | Applicable Codes:- DOCUMENTID- PROCESSID |
| **------| InstanceIdentifier** | The ProcessID (profile ID) or DocumentID corresponding to PEPPOL SMP for which the enveloped payload is intended to be used for. For senders - this value can be used to retrieve the correct set of PEPPOL service metadata. For receivers - this value can be used to verify that the receiving PEPPOL Participant has published support for this DocumentID or ProcessID. | MANDATORY | 1..1 | Codelist [see TAB Scope colums ProcessID|DocumentID]Example when Type = "PROCESSID":urn:www.cenbii.eu:profile:bii47:ver3.0Example when Type = "DOCUMENTID":urn:oasis:names:specification:ubl:schema:xsd:CallForTenders::CallForTenders##urn:www.cenbii.eu:transaction:biitrdm083:ver3.0::2.1 |
| **------| Identifier** | An unique identification key to identify the procurement project that this document refers to. | OPTIONAL | 0..1 | Example: 6346792 |
| **----| ScopeInformation** | Abstract element. Will be replaced by BusinessService and/or CorrelationInformation | OPTIONAL |   |   |
| **------| BusinessService** | Initiator's description of the service to be carried out on the SBD by receiver. | OPTIONAL | 0..1 |   |
| **--------| ServiceTransaction** | BusinessServiceTransaction is a specific instruction to be executed on the received Standard Business Document. | OPTIONAL | 0..1 |   |
| **----------| IsNonRepudiationRequired** | Non repudiation of origin and content means that the originator must digitally sign the business data and the recipient must store the business data (including the digital signature) in its original form for the duration mutually agreed to in a trading partner agreement. | REQUIRED | 0..1 | Applicable values:- true- false |
| **----------| IsAuthenticationRequired** | If IsNonRepudiationRequired is true, this tag is superfluous.Otherwise, the tag indicates whether the identity of the sending role is verified. | REQUIRED | 0..1 | Applicable values:- true- false |
| **----------| IsNonRepudiationOfReceiptRequired** | Indicates that both partners agree to mutually verify receipt of requested business data and that the receipt must be non reputable. | REQUIRED | 0..1 | Applicable values:- true- false |
| **----------| IsIntelligibleCheckRequired** | Both partners agree that a responding partner role must check (e.g. via use of a document digest) that received data is not garbled (unreadable, unintelligible) and has integrity (i.e. has not been altered) before acknowledgment of proper receipt is returned to the requesting partner. | REQUIRED | 0..1 | Applicable values:- true- false |
| **----------| IsApplicationErrorResponseRequested** | Both partners agree that a responding partner’s receiving business application must check for application level errors; and if any are detected, must respond with an Error Response Acknowledgment noting the errors detected. | REQUIRED | 0..1 | Applicable values:- true- false |
| **--------| CorrelationInformation** | Co-relates requesting document information with the responding documentinformation. This element substitutes the element ‘ScopeInformation’ when used. | OPTIONAL | 0..1 |   |
| **----------| RequestingDocumentInstanceIdentifier** | Identifier of requesting SBDH and SBD instance. This is a GUID. | REQUIRED | 0..1 | Example: 5469cc5c-f15d-4631-b47d-a348f646ab8a (Message ID) |